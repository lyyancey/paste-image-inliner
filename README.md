# Paste Image Inliner - 粘贴图片内联化插件

## 功能说明

这个Chrome插件可以解决在复制粘贴包含图片的HTML内容时，图片链接失效的问题。插件会自动将外链图片转换为内联的data URL，确保图片能够正常显示。

## 主要特性

- ✅ 自动检测复制和粘贴的HTML中的图片
- ✅ 将外链图片转换为data URL内联格式
- ✅ 支持各种编辑器（钉钉文档、富文本编辑器等）
- ✅ 绕过CORS限制，支持更多图片源
- ✅ 保持原有的文本格式和布局

## 安装方法

1. 下载插件源码到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择插件文件夹

## 使用方法

1. 在网页中选择包含图片的内容（Ctrl+A 全选或鼠标选择）
2. 复制选中内容（Ctrl+C）
3. 在目标编辑器中粘贴（Ctrl+V）
4. 图片会自动转换为data URL格式，无需上传

## 测试步骤

1. 安装插件后，打开 `test.html` 测试页面
2. 在"源内容区域"选择包含图片的内容
3. 复制后在"目标编辑区域"粘贴
4. 检查图片是否正确显示

## 技术原理

### 复制阶段
- 监听 `copy` 事件
- 检测选中内容中的图片元素
- 通过background script下载图片（绕过CORS）
- 将图片转换为data URL
- 修改剪贴板中的HTML内容

### 粘贴阶段
- 监听 `paste` 事件
- 检测粘贴内容中的外链图片
- 自动转换为data URL并插入

## 文件说明

- `manifest.json` - 插件配置文件
- `background.js` - 后台脚本，处理图片下载
- `content.js` - 内容脚本，处理复制粘贴事件
- `test.html` - 测试页面

## 支持的图片格式

- JPG/JPEG
- PNG
- GIF
- WebP
- SVG

## 注意事项

1. 某些网站可能有防盗链保护，部分图片可能无法转换
2. 大尺寸图片转换为data URL后会增加文档大小
3. 插件需要"所有网站"权限以支持跨域图片下载

## 故障排除

### 图片无法转换
- 检查浏览器控制台是否有错误信息
- 确认图片URL是否可访问
- 验证插件是否正确安装并启用

### 粘贴后图片丢失
- 确认目标编辑器支持HTML格式粘贴
- 检查图片是否成功转换为data URL
- 尝试在测试页面验证功能

## 版本历史

- v1.0.0 - 初始版本，支持基本的图片内联功能
