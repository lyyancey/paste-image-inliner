<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ‡é¢˜æ›¿æ¢åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background: #f8f9fa;
            line-height: 1.6;
        }
        .test-container {
            background: white;
            border: 2px solid #1890ff;
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .paste-area {
            background: #f6ffed;
            border: 2px dashed #52c41a;
            border-radius: 8px;
            padding: 25px;
            min-height: 200px;
            margin: 20px 0;
        }
        .config-area {
            background: #fff7e6;
            border: 2px solid #fa8c16;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .btn {
            background: #1890ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .btn:hover { 
            background: #40a9ff; 
            transform: translateY(-1px);
        }
        .btn.success { background: #52c41a; }
        .btn.warning { background: #fa8c16; }
        .btn.danger { background: #ff4d4f; }
        
        /* ç¤ºä¾‹æ ‡é¢˜æ ·å¼ */
        .sample-content h1 { color: #722ed1; font-size: 32px; margin: 15px 0; }
        .sample-content h2 { color: #fa541c; font-size: 24px; margin: 12px 0; }
        .sample-content h3 { color: #13c2c2; font-size: 20px; margin: 10px 0; }
        .sample-content h4 { color: #52c41a; font-size: 18px; margin: 8px 0; }
        .sample-content h5 { color: #1890ff; font-size: 16px; margin: 6px 0; }
        .sample-content h6 { color: #666; font-size: 14px; margin: 4px 0; }
        
        .highlight { background: #fff2e6; padding: 2px 6px; border-radius: 3px; font-weight: bold; }
        .status { padding: 8px 16px; border-radius: 4px; margin: 10px 0; font-weight: bold; }
        .status.info { background: #e6f7ff; color: #1890ff; border: 1px solid #91d5ff; }
        .status.success { background: #f6ffed; color: #52c41a; border: 1px solid #b7eb8f; }
        .status.warning { background: #fff7e6; color: #fa8c16; border: 1px solid #ffd591; }
        
        .config-display {
            background: #f0f2f5;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ æ ‡é¢˜æ›¿æ¢åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>
    
    <div class="status info">
        <strong>æ–°åŠŸèƒ½è¯´æ˜ï¼š</strong> ç°åœ¨å¯ä»¥åœ¨å¤åˆ¶ç²˜è´´æ—¶è‡ªåŠ¨å°†æ ‡é¢˜çº§åˆ«è¿›è¡Œæ›¿æ¢ã€‚ä¾‹å¦‚å°† H1ã€H2 éƒ½è½¬æ¢ä¸º H3ï¼Œç¡®ä¿å†…å®¹æ ¼å¼çš„ä¸€è‡´æ€§ã€‚
    </div>

    <div class="config-area">
        <h2>âš™ï¸ é…ç½®ç®¡ç†</h2>
        <p>é¦–å…ˆé…ç½®æ ‡é¢˜æ›¿æ¢è§„åˆ™ï¼š</p>
        
        <div style="margin: 15px 0;">
            <button class="btn success" onclick="openConfigUI()">ğŸ”§ æ‰“å¼€é…ç½®ç•Œé¢</button>
            <button class="btn" onclick="showCurrentConfig()">ğŸ“‹ æŸ¥çœ‹å½“å‰é…ç½®</button>
            <button class="btn warning" onclick="setQuickConfig()">âš¡ å¿«é€Ÿé…ç½® (H1,H2â†’H3)</button>
            <button class="btn danger" onclick="resetConfig()">ğŸ”„ é‡ç½®é…ç½®</button>
        </div>
        
        <div class="status warning">
            <strong>å¿«æ·é”®ï¼š</strong> æŒ‰ <code>Ctrl + Shift + H</code> å¿«é€Ÿæ‰“å¼€é…ç½®ç•Œé¢
        </div>
        
        <div id="configDisplay" class="config-display">
            é…ç½®åŠ è½½ä¸­...
        </div>
    </div>

    <div class="test-container">
        <h2>ğŸ“ æµ‹è¯•1ï¼šåŸºç¡€æ ‡é¢˜æ›¿æ¢</h2>
        <p>é€‰æ‹©ä¸‹é¢çš„å†…å®¹è¿›è¡Œå¤åˆ¶æµ‹è¯•ï¼ˆåŒ…å«å„çº§æ ‡é¢˜ï¼‰ï¼š</p>
        <div class="sample-content">
            <h1>è¿™æ˜¯H1æ ‡é¢˜ - ç´«è‰²å¤§å­—</h1>
            <p>è¿™æ˜¯H1ä¸‹çš„æ™®é€šæ®µè½å†…å®¹ã€‚</p>
            
            <h2>è¿™æ˜¯H2æ ‡é¢˜ - æ©™è‰²ä¸­å­—</h2>
            <p>è¿™æ˜¯H2ä¸‹çš„å†…å®¹ï¼Œé€šå¸¸ç”¨ä½œäºŒçº§æ ‡é¢˜ã€‚</p>
            
            <h3>è¿™æ˜¯H3æ ‡é¢˜ - é’è‰²å°å­—</h3>
            <p>è¿™æ˜¯H3ä¸‹çš„å†…å®¹ï¼Œå¸¸ç”¨ä½œä¸‰çº§æ ‡é¢˜ã€‚</p>
            
            <h4>è¿™æ˜¯H4æ ‡é¢˜</h4>
            <h5>è¿™æ˜¯H5æ ‡é¢˜</h5>
            <h6>è¿™æ˜¯H6æ ‡é¢˜</h6>
        </div>
        
        <button class="btn" onclick="selectContent('.sample-content')">é€‰æ‹©å¹¶å¤åˆ¶å†…å®¹</button>
        <button class="btn success" onclick="testHeadingReplacement()">ä¸“é¡¹æµ‹è¯•æ ‡é¢˜æ›¿æ¢</button>
    </div>

    <div class="test-container">
        <h2>ï¿½ æµ‹è¯•3ï¼šå¤æ‚æ›¿æ¢åœºæ™¯ï¼ˆä¿®å¤æµ‹è¯•ï¼‰</h2>
        <p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> H1â†’H4, H4â†’H5 æ—¶ï¼Œé¿å… H1 æœ€ç»ˆå˜æˆ H5</p>
        
        <div class="status warning">
            <strong>æµ‹è¯•ç›®æ ‡ï¼š</strong><br>
            â€¢ H1 åº”è¯¥åªå˜æˆ H4ï¼ˆä¸æ˜¯ H5ï¼‰<br>
            â€¢ åŸå§‹ H4 åº”è¯¥å˜æˆ H5<br>
            â€¢ ç¡®ä¿æ¯ä¸ªå…ƒç´ åªæŒ‰åŸå§‹æ ‡ç­¾æ›¿æ¢ä¸€æ¬¡
        </div>
        
        <div class="sample-content">
            <h1>åŸå§‹H1æ ‡é¢˜ - åº”è¯¥å˜æˆH4</h1>
            <p>è¿™ä¸ªH1æ ‡é¢˜åœ¨è®¾ç½® H1â†’H4, H4â†’H5 çš„è§„åˆ™ä¸‹ï¼Œåº”è¯¥åªå˜æˆH4ï¼Œè€Œä¸æ˜¯H5ã€‚</p>
            
            <h4>åŸå§‹H4æ ‡é¢˜ - åº”è¯¥å˜æˆH5</h4>
            <p>è¿™ä¸ªH4æ ‡é¢˜åº”è¯¥å˜æˆH5ã€‚</p>
            
            <h1>å¦ä¸€ä¸ªH1æ ‡é¢˜ - ä¹Ÿåº”è¯¥å˜æˆH4</h1>
            <p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªH1ï¼Œåº”è¯¥å˜æˆH4ã€‚</p>
            
            <h4>å¦ä¸€ä¸ªH4æ ‡é¢˜ - ä¹Ÿåº”è¯¥å˜æˆH5</h4>
            <p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªH4ï¼Œåº”è¯¥å˜æˆH5ã€‚</p>
            
            <h2>H2æ ‡é¢˜ä¿æŒä¸å˜</h2>
            <h3>H3æ ‡é¢˜ä¿æŒä¸å˜</h3>
        </div>
        
        <div style="margin: 15px 0;">
            <button class="btn" onclick="setupComplexReplacement()">ğŸ”§ è®¾ç½®å¤æ‚æ›¿æ¢è§„åˆ™</button>
            <button class="btn" onclick="selectContent('.test-container:nth-of-type(4) .sample-content')">ğŸ“‹ é€‰æ‹©æµ‹è¯•å†…å®¹</button>
            <button class="btn success" onclick="testComplexReplacement()">ğŸ§ª ä¸“é¡¹æµ‹è¯•</button>
        </div>
        
        <div id="complexTestResult" class="status" style="display: none; margin-top: 15px;"></div>
    </div>

    <div class="test-container">
        <h2>ï¿½ğŸ–¼ï¸ æµ‹è¯•4ï¼šæ ‡é¢˜+å›¾ç‰‡æ··åˆå†…å®¹</h2>
        <p>æµ‹è¯•åœ¨æœ‰å›¾ç‰‡çš„æƒ…å†µä¸‹æ ‡é¢˜æ›¿æ¢æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š</p>
        <div class="sample-content">
            <h1 style="color: #ff4d4f;">äº§å“ä»‹ç» - H1æ ‡é¢˜</h1>
            <img src="https://via.placeholder.com/100x80/ff6b6b/ffffff?text=äº§å“å›¾" alt="äº§å“å›¾ç‰‡" style="float: left; margin: 0 15px 15px 0; border-radius: 8px;">
            <p>è¿™æ˜¯ä¸€ä¸ªåŒ…å«å›¾ç‰‡çš„äº§å“ä»‹ç»æ®µè½ã€‚</p>
            
            <h2 style="color: #1890ff;">åŠŸèƒ½ç‰¹æ€§ - H2æ ‡é¢˜</h2>
            <ul>
                <li>ç‰¹æ€§1ï¼šå›¾ç‰‡å†…è”è½¬æ¢</li>
                <li>ç‰¹æ€§2ï¼šæ ‡é¢˜çº§åˆ«æ›¿æ¢</li>
                <li>ç‰¹æ€§3ï¼šæ ¼å¼å®Œç¾ä¿æŒ</li>
            </ul>
            
            <h3 style="color: #52c41a;">æŠ€æœ¯è§„æ ¼ - H3æ ‡é¢˜</h3>
            <img src="https://via.placeholder.com/80x60/4ecdc4/ffffff?text=æŠ€æœ¯" alt="æŠ€æœ¯å›¾ç‰‡" style="border: 2px solid #13c2c2; border-radius: 6px;">
        </div>
        
        <button class="btn" onclick="selectContent('.test-container:nth-of-type(3) .sample-content')">é€‰æ‹©æ··åˆå†…å®¹</button>
    </div>

    <div class="test-container">
        <h2>ğŸ“Š æµ‹è¯•3ï¼šå¤æ‚ç»“æ„æµ‹è¯•</h2>
        <div class="sample-content">
            <h1>æ–‡æ¡£æ ‡é¢˜</h1>
            <table style="border-collapse: collapse; width: 100%; margin: 15px 0;">
                <caption style="color: #722ed1; font-size: 16px; font-weight: bold; margin-bottom: 10px;">
                    æ•°æ®è¡¨æ ¼æ ‡é¢˜
                </caption>
                <tr>
                    <th style="border: 1px solid #d9d9d9; padding: 8px; background: #fafafa;">é¡¹ç›®</th>
                    <th style="border: 1px solid #d9d9d9; padding: 8px; background: #fafafa;">çŠ¶æ€</th>
                </tr>
                <tr>
                    <td style="border: 1px solid #d9d9d9; padding: 8px;">æµ‹è¯•é¡¹ç›®</td>
                    <td style="border: 1px solid #d9d9d9; padding: 8px;">
                        <img src="https://via.placeholder.com/30x30/52c41a/ffffff?text=âœ“" alt="æˆåŠŸ">
                    </td>
                </tr>
            </table>
            
            <h2>æ€»ç»“éƒ¨åˆ†</h2>
            <p>è¿™é‡ŒåŒ…å«äº†è¡¨æ ¼ã€å›¾ç‰‡å’Œå¤šçº§æ ‡é¢˜çš„å¤æ‚ç»“æ„ã€‚</p>
        </div>
        
        <button class="btn" onclick="selectContent('.test-container:nth-of-type(4) .sample-content')">é€‰æ‹©å¤æ‚å†…å®¹</button>
    </div>

    <div class="paste-area" contenteditable="true" id="pasteArea">
        <p style="color: #666; text-align: center; font-style: italic;">
            ç‚¹å‡»è¿™é‡Œï¼Œç„¶åæŒ‰ Ctrl+V ç²˜è´´åˆšæ‰å¤åˆ¶çš„å†…å®¹...<br>
            ç²˜è´´åæ£€æŸ¥æ ‡é¢˜çº§åˆ«æ˜¯å¦æŒ‰é…ç½®è¿›è¡Œäº†æ›¿æ¢
        </p>
    </div>

    <div class="config-area">
        <h3>ğŸ” æ£€æŸ¥è¦ç‚¹</h3>
        <ul>
            <li>âœ… æ ‡é¢˜çº§åˆ«æ˜¯å¦æŒ‰é…ç½®æ­£ç¡®æ›¿æ¢ï¼ˆå¦‚H1â†’H3, H2â†’H3ï¼‰</li>
            <li>âœ… æ ‡é¢˜çš„é¢œè‰²ã€å­—ä½“ç­‰æ ·å¼æ˜¯å¦ä¿æŒ</li>
            <li>âœ… å›¾ç‰‡æ˜¯å¦æ­£ç¡®è½¬æ¢ä¸ºå†…è”æ ¼å¼</li>
            <li>âœ… è¡¨æ ¼æ ‡é¢˜æ˜¯å¦è½¬æ¢ä¸ºç‹¬ç«‹æ–‡å­—</li>
            <li>âœ… æ•´ä½“å†…å®¹ç»“æ„æ˜¯å¦å®Œæ•´</li>
        </ul>
        
        <button class="btn" onclick="clearPasteArea()">æ¸…ç©ºç²˜è´´åŒºåŸŸ</button>
        <button class="btn" onclick="analyzeClipboard()">åˆ†æå‰ªè´´æ¿å†…å®¹</button>
        <button class="btn" onclick="showDebugInfo()">æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯</button>
    </div>

    <script>
        // æ‰“å¼€é…ç½®ç•Œé¢
        function openConfigUI() {
            if (typeof window.imageInlinerConfig !== 'undefined') {
                window.imageInlinerConfig.show();
            } else {
                alert('è¯·ç¡®ä¿æ’ä»¶å·²æ­£ç¡®åŠ è½½ï¼\n\nå¯ä»¥æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚');
            }
        }
        
        // æ˜¾ç¤ºå½“å‰é…ç½®
        function showCurrentConfig() {
            if (typeof window.imageInlinerConfig !== 'undefined') {
                const config = window.imageInlinerConfig.getConfig();
                updateConfigDisplay(config);
                console.log('å½“å‰é…ç½®:', config);
            } else {
                document.getElementById('configDisplay').textContent = 'æ’ä»¶æœªåŠ è½½æˆ–é…ç½®ä¸å¯ç”¨';
            }
        }
        
        // æ›´æ–°é…ç½®æ˜¾ç¤º
        function updateConfigDisplay(config) {
            const display = document.getElementById('configDisplay');
            display.innerHTML = `
                <strong>æ ‡é¢˜æ›¿æ¢åŠŸèƒ½ï¼š</strong> ${config.enabled ? '<span style="color: #52c41a;">âœ… å·²å¯ç”¨</span>' : '<span style="color: #ff4d4f;">âŒ æœªå¯ç”¨</span>'}<br><br>
                <strong>æ›¿æ¢è§„åˆ™ï¼š</strong><br>
                ${Object.entries(config.replacements).map(([from, to]) => 
                    `${from.toUpperCase()} â†’ ${to.toUpperCase()}${from !== to ? ' ğŸ”„' : ''}`
                ).join('<br>')}
            `;
        }
        
        // å¿«é€Ÿé…ç½®
        function setQuickConfig() {
            if (typeof window.imageInlinerConfig !== 'undefined') {
                window.imageInlinerConfig.setConfig({
                    enabled: true,
                    replacements: {
                        'h1': 'h3',
                        'h2': 'h3',
                        'h3': 'h3',
                        'h4': 'h4',
                        'h5': 'h5',
                        'h6': 'h6'
                    }
                });
                showCurrentConfig();
                alert('âœ… å¿«é€Ÿé…ç½®å®Œæˆï¼\nH1ã€H2 å°†è¢«æ›¿æ¢ä¸º H3\nH3-H6 ä¿æŒä¸å˜');
            }
        }
        
        // é‡ç½®é…ç½®
        function resetConfig() {
            if (typeof window.imageInlinerConfig !== 'undefined') {
                window.imageInlinerConfig.reset();
                showCurrentConfig();
                alert('ğŸ”„ é…ç½®å·²é‡ç½®');
            }
        }
        
        // é€‰æ‹©å†…å®¹
        function selectContent(selector) {
            const element = document.querySelector(selector);
            if (element) {
                const selection = window.getSelection();
                const range = document.createRange();
                range.selectNodeContents(element);
                selection.removeAllRanges();
                selection.addRange(range);
                
                console.log('å·²é€‰æ‹©å†…å®¹:', selector);
                
                // è‡ªåŠ¨å¤åˆ¶
                try {
                    document.execCommand('copy');
                    alert('âœ… å†…å®¹å·²å¤åˆ¶ï¼Œè¯·åœ¨ç»¿è‰²åŒºåŸŸç²˜è´´æŸ¥çœ‹æ•ˆæœ');
                } catch (e) {
                    alert('è¯·æ‰‹åŠ¨æŒ‰ Ctrl+C å¤åˆ¶é€‰ä¸­å†…å®¹');
                }
            }
        }
        
        // ä¸“é¡¹æµ‹è¯•æ ‡é¢˜æ›¿æ¢
        function testHeadingReplacement() {
            if (typeof window.testImageInliner === 'function') {
                window.testImageInliner();
                alert('âœ… å·²è§¦å‘ä¸“é¡¹æµ‹è¯•ï¼Œè¯·åœ¨ç²˜è´´åŒºåŸŸç²˜è´´æŸ¥çœ‹æ•ˆæœ');
            } else {
                alert('æµ‹è¯•å‡½æ•°ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥æ’ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½');
            }
        }
        
        // æ¸…ç©ºç²˜è´´åŒºåŸŸ
        function clearPasteArea() {
            document.getElementById('pasteArea').innerHTML = 
                '<p style="color: #666; text-align: center; font-style: italic;">ç‚¹å‡»è¿™é‡Œï¼Œç„¶åæŒ‰ Ctrl+V ç²˜è´´åˆšæ‰å¤åˆ¶çš„å†…å®¹...<br>ç²˜è´´åæ£€æŸ¥æ ‡é¢˜çº§åˆ«æ˜¯å¦æŒ‰é…ç½®è¿›è¡Œäº†æ›¿æ¢</p>';
        }
        
        // åˆ†æå‰ªè´´æ¿å†…å®¹
        async function analyzeClipboard() {
            try {
                const clipboardItems = await navigator.clipboard.read();
                console.log('=== å‰ªè´´æ¿åˆ†æ ===');
                
                for (const item of clipboardItems) {
                    if (item.types.includes('text/html')) {
                        const htmlBlob = await item.getType('text/html');
                        const html = await htmlBlob.text();
                        
                        console.log('HTMLé•¿åº¦:', html.length);
                        
                        // åˆ†ææ ‡é¢˜
                        const headingCounts = {};
                        ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(tag => {
                            const count = (html.match(new RegExp(`<${tag}[^>]*>`, 'gi')) || []).length;
                            if (count > 0) headingCounts[tag.toUpperCase()] = count;
                        });
                        
                        console.log('æ ‡é¢˜ç»Ÿè®¡:', headingCounts);
                        console.log('åŒ…å«å›¾ç‰‡:', (html.match(/data:image/g) || []).length, 'å¼ å†…è”å›¾ç‰‡');
                        console.log('åŒ…å«è¡¨æ ¼:', html.includes('<table>'));
                        
                        alert(`å‰ªè´´æ¿åˆ†æå®Œæˆï¼š\næ ‡é¢˜ç»Ÿè®¡: ${JSON.stringify(headingCounts)}\nè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹æ§åˆ¶å°`);
                    }
                }
            } catch (e) {
                console.error('å‰ªè´´æ¿åˆ†æå¤±è´¥:', e);
                alert('æ— æ³•åˆ†æå‰ªè´´æ¿ï¼Œè¯·æ£€æŸ¥æƒé™è®¾ç½®');
            }
        }
        
        // è®¾ç½®å¤æ‚æ›¿æ¢è§„åˆ™
        function setupComplexReplacement() {
            if (typeof imageInlinerConfig !== 'undefined') {
                imageInlinerConfig.setHeadingConfig({
                    enabled: true,
                    replacements: {
                        'h1': 'h4',  // H1 â†’ H4
                        'h4': 'h5',  // H4 â†’ H5
                        'h2': 'h2',  // H2 ä¿æŒä¸å˜
                        'h3': 'h3',  // H3 ä¿æŒä¸å˜
                        'h5': 'h5',  // H5 ä¿æŒä¸å˜
                        'h6': 'h6'   // H6 ä¿æŒä¸å˜
                    }
                });
                alert('âœ… å·²è®¾ç½®å¤æ‚æ›¿æ¢è§„åˆ™ï¼š\nH1 â†’ H4\nH4 â†’ H5\nå…¶ä»–çº§åˆ«ä¿æŒä¸å˜');
                updateConfigDisplay();
            } else {
                alert('è¯·å…ˆåŠ è½½æ’ä»¶å†…å®¹è„šæœ¬');
            }
        }

        // æµ‹è¯•å¤æ‚æ›¿æ¢
        function testComplexReplacement() {
            const resultDiv = document.getElementById('complexTestResult');
            resultDiv.style.display = 'block';
            resultDiv.className = 'status warning';
            resultDiv.innerHTML = `
                <strong>ğŸ§ª å¤æ‚æ›¿æ¢æµ‹è¯•è¿›è¡Œä¸­...</strong><br>
                <small>1. è¯·å…ˆç‚¹å‡»"è®¾ç½®å¤æ‚æ›¿æ¢è§„åˆ™"</small><br>
                <small>2. ç„¶åé€‰æ‹©å¹¶å¤åˆ¶æµ‹è¯•å†…å®¹</small><br>
                <small>3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„æ›¿æ¢æ—¥å¿—</small><br>
                <small>4. ç²˜è´´åˆ°å…¶ä»–åœ°æ–¹éªŒè¯ç»“æœ</small><br><br>
                <strong>é¢„æœŸç»“æœï¼š</strong><br>
                â€¢ "åŸå§‹H1æ ‡é¢˜" â†’ H4 æ ‡ç­¾<br>
                â€¢ "åŸå§‹H4æ ‡é¢˜" â†’ H5 æ ‡ç­¾<br>
                â€¢ æ¯ä¸ªå…ƒç´ åªæ›¿æ¢ä¸€æ¬¡ï¼Œé¿å…è¿ç»­æ›¿æ¢
            `;
            
            // è‡ªåŠ¨é€‰æ‹©æµ‹è¯•å†…å®¹
            selectContent('.test-container:nth-of-type(4) .sample-content');
            
            console.log('ğŸ§ª å¤æ‚æ›¿æ¢æµ‹è¯•è¯´æ˜ï¼š');
            console.log('å½“å‰è®¾ç½®ï¼šH1â†’H4, H4â†’H5');
            console.log('åŸå§‹H1åº”è¯¥å˜æˆH4ï¼ˆä¸æ˜¯H5ï¼‰');
            console.log('åŸå§‹H4åº”è¯¥å˜æˆH5');
            console.log('è¯·å¤åˆ¶é€‰ä¸­çš„å†…å®¹å¹¶è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º');
        }
        
        // æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
        function showDebugInfo() {
            console.log('=== è°ƒè¯•ä¿¡æ¯ ===');
            console.log('æ’ä»¶é…ç½®API:', typeof window.imageInlinerConfig);
            console.log('æµ‹è¯•å‡½æ•°:', typeof window.testImageInliner);
            
            if (typeof window.imageInlinerConfig !== 'undefined') {
                console.log('å½“å‰é…ç½®:', window.imageInlinerConfig.getConfig());
            }
            
            console.log('é¡µé¢ä¸­çš„æ ‡é¢˜å…ƒç´ :');
            ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(tag => {
                const elements = document.querySelectorAll(tag);
                if (elements.length > 0) {
                    console.log(`${tag.toUpperCase()}: ${elements.length}ä¸ª`);
                }
            });
        }
        
        // ç›‘å¬ç²˜è´´äº‹ä»¶
        document.addEventListener('paste', (e) => {
            console.log('=== ç²˜è´´äº‹ä»¶åˆ†æ ===');
            const htmlData = e.clipboardData?.getData('text/html');
            if (htmlData) {
                // å¿«é€Ÿåˆ†æç²˜è´´çš„å†…å®¹
                const headingCounts = {};
                ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(tag => {
                    const count = (htmlData.match(new RegExp(`<${tag}[^>]*>`, 'gi')) || []).length;
                    if (count > 0) headingCounts[tag.toUpperCase()] = count;
                });
                
                console.log('ç²˜è´´å†…å®¹æ ‡é¢˜ç»Ÿè®¡:', headingCounts);
                console.log('åŒ…å«data:imageå›¾ç‰‡:', (htmlData.match(/data:image/g) || []).length);
            }
        });
        
        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºé…ç½®
        window.addEventListener('load', () => {
            setTimeout(() => {
                showCurrentConfig();
            }, 500);
        });
        
        console.log('æ ‡é¢˜æ›¿æ¢åŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('å¿«æ·é”®: Ctrl+Shift+H æ‰“å¼€é…ç½®ç•Œé¢');
    </script>
</body>
</html>
